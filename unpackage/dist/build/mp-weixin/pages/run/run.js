(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/run/run"],{"11e8":function(t,n,e){"use strict";e.r(n);var r=e("3f57"),o=e.n(r);for(var u in r)"default"!==u&&function(t){e.d(n,t,(function(){return r[t]}))}(u);n["default"]=o.a},"16ee":function(t,n,e){"use strict";var r=e("49ff"),o=e.n(r);o.a},"3f57":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=u(e("a34a")),o=e("26cb");function u(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=c(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,a=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){a=!0,u=t},f:function(){try{i||null==e.return||e.return()}finally{if(a)throw u}}}}function c(t,n){if(t){if("string"===typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,n):void 0}}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function f(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?f(Object(e),!0).forEach((function(n){s(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function d(t,n,e,r,o,u,i){try{var c=t[u](i),a=c.value}catch(f){return void e(f)}c.done?n(a):Promise.resolve(a).then(r,o)}function p(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var u=t.apply(n,e);function i(t){d(u,r,o,i,c,"next",t)}function c(t){d(u,r,o,i,c,"throw",t)}i(void 0)}))}}var v={data:function(){return{mapCtx:void 0,canGetLocation:!1,longitude:void 0,latitude:void 0,speed:0,time:0,hasRun:0}},created:function(){var n=this;t.authorize({scope:"scope.userLocation",success:function(t){n.canGetLocation=!0,n.reSetPosition()}})},mounted:function(){this.mapCtx=t.createMapContext("map")},methods:{getLocation:function(){return p(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,e){t.getLocation({type:"gcj02",success:function(t){console.log(t),n(t)},fail:function(t){console.log("failed"),e("获取定位失败 ",t)}})})));case 1:case"end":return n.stop()}}),n)})))()},reSetPosition:function(){var t=this;this.getLocation().then((function(n){t.longitude=n.longitude,t.latitude=n.latitude,t.mapCtx.moveToLocation({longitude:n.longitude,latitude:n.latitude})}))},navTo:function(n){t.navigateTo({url:"/pages/".concat(n,"/").concat(n)})}},computed:l({totalRun:function(){if(!this.userinfo.run.length)return 0;var t,n=0,e=i(this.userinfo.run);try{for(e.s();!(t=e.n()).done;){var r=t.value;n+=r.mile}}catch(o){e.e(o)}finally{e.f()}return(n/1e3).toFixed(2)}},(0,o.mapState)({userinfo:function(t){return t.userinfo}}))};n.default=v}).call(this,e("543d")["default"])},"49ff":function(t,n,e){},"4c0b":function(t,n,e){"use strict";e.r(n);var r=e("6875"),o=e("11e8");for(var u in o)"default"!==u&&function(t){e.d(n,t,(function(){return o[t]}))}(u);e("16ee");var i,c=e("f0c5"),a=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);n["default"]=a.exports},6875:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return u})),e.d(n,"a",(function(){return r}));var r={uIcon:function(){return Promise.all([e.e("common/vendor"),e.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(e.bind(null,"9c86"))}},o=function(){var t=this,n=t.$createElement;t._self._c},u=[]},da06:function(t,n,e){"use strict";(function(t){e("60b4");r(e("66fd"));var n=r(e("4c0b"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])}},[["da06","common/runtime","common/vendor"]]]);